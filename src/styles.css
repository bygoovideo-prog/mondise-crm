/* ===== Reset suave + tokens ===== */
*,
*::before,
*::after { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body { margin: 0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; color: #101828; background: #F5F7FB; }

:root{
  --brand: #1f6feb;           /* azul corporativo */
  --brand-600:#1a5dd0;
  --text:#101828;
  --muted:#667085;
  --bg:#F5F7FB;
  --card:#ffffff;
  --border:#E4E7EC;
  --ring:#D0D5DD;
  --success:#16a34a;
  --warning:#f59e0b;
  --danger:#ef4444;

  --radius: 14px;
  --shadow: 0 8px 24px rgba(16,24,40,.08);
  --shadow-sm: 0 2px 10px rgba(16,24,40,.06);

  --space-1: .25rem;
  --space-2: .5rem;
  --space-3: .75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
}

/* ===== Contenedor de página ===== */
.app {
  max-width: 1100px;
  margin: 0 auto;
  padding: var(--space-4) var(--space-4) calc(72px + env(safe-area-inset-bottom));
}

/* ===== Cabecera ===== */
.app-header{
  position: sticky; top: 0; z-index: 30;
  background: linear-gradient(180deg, #fff 0%, #fff 85%, rgba(255,255,255,.85) 100%);
  backdrop-filter: saturate(180%) blur(6px);
  padding: var(--space-4) var(--space-4) var(--space-3);
  border-bottom: 1px solid var(--border);
}
.header-row{
  display:flex; align-items:center; gap: var(--space-4);
  justify-content: space-between;
}
.brand{
  display:flex; align-items:center; gap:.75rem; font-weight:700;
}
.brand img{ height: 28px; }
.user-chip{ color:var(--muted); font-size:.9rem; }

/* Tabs tipo “segment control” */
.tabs{
  margin-top: var(--space-3);
  display:inline-flex; gap: 2px; padding:4px;
  background: #F2F4F7; border-radius: 999px;
}
.tab{
  border: 0; background: transparent; color: var(--muted);
  padding: .5rem .9rem; border-radius: 999px; font-weight:600;
}
.tab.is-active{ background: #fff; color: var(--text); box-shadow: var(--shadow-sm); }

/* ===== Toolbar (buscador + botón) ===== */
.toolbar{
  display:flex; gap: var(--space-3); margin-top: var(--space-4);
  flex-wrap: wrap;
}
.input{
  appearance:none; width: 100%;
  border: 1px solid var(--ring);
  background: #fff; color: var(--text);
  border-radius: 10px; padding: .72rem .9rem;
  line-height:1.2;
}
.input:focus{ outline: 3px solid rgba(31,111,235,.2); border-color: var(--brand); }

.btn{
  appearance:none; border:1px solid transparent; background: var(--brand); color:#fff;
  padding: .72rem 1rem; border-radius: 10px; font-weight:600; cursor:pointer;
  display:inline-flex; align-items:center; gap:.5rem;
  box-shadow: var(--shadow-sm);
}
.btn:hover{ background: var(--brand-600); }
.btn.outline{ background:#fff; color:var(--text); border-color: var(--ring); }

/* ===== Formulario ===== */
.card{
  background: var(--card); border:1px solid var(--border);
  border-radius: var(--radius); box-shadow: var(--shadow);
  padding: var(--space-5);
}
.form-grid{
  display:grid; gap: var(--space-4);
  grid-template-columns: 1fr;
}
.field{ display:flex; flex-direction:column; gap:.4rem; }
.label{ font-size:.85rem; color:var(--muted); font-weight:600; }
textarea.input{ min-height: 90px; resize: vertical; }

/* 2 columnas en pantallas medianas */
@media (min-width: 640px){
  .form-grid{ grid-template-columns: repeat(2,1fr); }
  .form-grid .field.full{ grid-column: 1 / -1; }
}

/* ===== Tarjetas de tareas ===== */
.tasks-grid{
  margin-top: var(--space-6);
  display:grid; gap: var(--space-4);
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
}
.task{
  background:#fff; border:1px solid var(--border); border-radius: 14px; padding: var(--space-4);
  box-shadow: var(--shadow-sm); display:flex; flex-direction:column; gap:.6rem;
}
.task h4{ margin:0; font-size:1rem; }
.badge{
  display:inline-flex; align-items:center; gap:.35rem;
  font-size:.78rem; font-weight:600; padding:.25rem .55rem; border-radius:999px;
  background:#EEF2FF; color:#3538CD;
}
.badge.success{ background:#ECFDF3; color:#027A48; }
.badge.warning{ background:#FFFAEB; color:#B54708; }
.kv{ font-size:.84rem; color:var(--muted); }

/* Botones de tarjeta */
.card-actions{ display:flex; gap:.5rem; margin-top:.5rem; }
.btn.sm{ padding:.45rem .7rem; font-size:.85rem; }
.btn.danger{ background: var(--danger); }
.btn.danger:hover{ background:#dc2626; }

/* ===== Barra de acciones fija (Guardar / Cancelar) ===== */
.actionbar{
  position: fixed; left:0; right:0; bottom:0; z-index:50;
  padding: .65rem clamp(.75rem, 3vw, 1.25rem) calc(.65rem + env(safe-area-inset-bottom));
  background: rgba(255,255,255,.85);
  backdrop-filter: blur(8px);
  border-top: 1px solid var(--border);
}
.actionbar-row{
  max-width:1100px; margin:0 auto; display:flex; gap: var(--space-3);
  justify-content:flex-end;
}

/* ===== utilidades ===== */
.hide-mobile{ display:none; }
@media (min-width: 640px){ .hide-mobile{ display:inline-flex; } }
